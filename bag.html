<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href="images/logo.ico">
    <link rel="stylesheet" href="style/output.css">
    <title>Bag (Cart) - PamSuCoLo Marketplace</title>
    <style>
        /* Hide the filter toggle and sidebar by default (Mobile Only) */
        #filter-toggle, #mobile-menu-toggle {
            display: none;
        }

        /* Filter Sidebar Logic (Mobile Only) */
        #filter-sidebar {
            transform: translateX(-100%);
            transition: transform 0.3s ease-in-out;
        }
        #filter-toggle:checked ~ #filter-sidebar {
            transform: translateX(0);
        }

        /* Mobile Menu Drawer Logic (Mobile & Tablet) */
        #mobile-menu-drawer {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-in-out;
        }
        #mobile-menu-toggle:checked ~ #mobile-menu-drawer {
            max-height: 500px; /* Use a large value for smooth transition */
        }
        
        /* Optional: Apply your custom background color */
        body { 
            background-color: var(--color-pamsucolo-bg); 
            color: var(--color-pamsucolo-text);
        }

        /* Custom style for quantity input/button */
        .qty-button {
            /* Updated styling for better click feedback and look */
            @apply p-1 w-8 h-8 flex items-center justify-center border border-gray-300 bg-white text-pamsucolo-text hover:bg-pamsucolo-primary hover:text-white transition duration-200;
        }
    </style>
</head>
<body class="bg-pamsucolo-bg text-pamsucolo-text font-sans antialiased">

    <nav class="sticky top-0 z-40 bg-white shadow-md border-b border-gray-100">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                
                <div class="flex items-center space-x-2">
                    <img class="w-10 h-10" src="images/logo.png" alt="Pampanga State University Logo">
                    <a href="index.html" class="text-2xl font-bold text-pamsucolo-primary">PamSuCoLo</a>
                </div>
                
                <div class="hidden sm:ml-6 sm:flex sm:items-center sm:space-x-4">
                    <a href="index.html" class="text-gray-900 hover:text-pamsucolo-primary px-3 py-2 rounded-md text-sm font-medium">Home</a>
                    <a href="shop.html" class="text-gray-900 hover:text-pamsucolo-primary px-3 py-2 rounded-md text-sm font-medium">Shop</a>
                    <a href="loan.html" class="text-gray-900 hover:text-pamsucolo-primary px-3 py-2 rounded-md text-sm font-medium">Loan</a>
                </div>
                
                <div class="flex items-center space-x-2">
                    <button onclick="window.location.href='bag.html'" type="button" class="p-2 text-pamsucolo-primary focus:outline-none relative border-b-2 border-pamsucolo-primary">
                        <span class="absolute -top-1 -right-1 w-4 h-4 text-xs bg-pamsucolo-primary text-white rounded-full flex items-center justify-center font-semibold">4</span>
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-shopping-bag-icon lucide-shopping-bag"><path d="M16 10a4 4 0 0 1-8 0"/><path d="M3.103 6.034h17.794"/><path d="M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z"/></svg>
                    </button>
                    <button onclick="window.location.href='account.html'" class="p-2 text-gray-500 hover:text-pamsucolo-primary focus:outline-none">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-user-round-icon lucide-user-round"><circle cx="12" cy="8" r="5"/><path d="M20 21a8 8 0 0 0-16 0"/></svg>
                    </button>
                    
                    <label for="mobile-menu-toggle" class="sm:hidden p-2 text-gray-500 hover:text-pamsucolo-primary cursor-pointer">
                        <svg class="w-6 h-6" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/></svg>
                    </label>
                </div>
            </div>
        </div>
    </nav>
    
    <main class="max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8">
        <h1 class="text-3xl font-bold text-pamsucolo-text mb-8">Your Shopping Bag <br /> (4 Items)</h1>

        <div class="lg:grid lg:grid-cols-3 lg:gap-8">
            
            <div class="lg:col-span-2 space-y-4">
                
                <div class="bg-white p-4 sm:p-6 rounded-xl shadow-md border border-gray-100 flex space-x-4">
                    <div class="w-20 h-20 sm:w-28 sm:h-28 bg-gray-100 rounded-lg flex-shrink-0 flex items-center justify-center">
                        <svg class="w-10 h-10 text-gray-400" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-9-4z"/><path d="M3 6h18"/></svg>
                    </div>
                    
                    <div class="flex-grow">
                        <div class="flex justify-between items-start">
                            <div>
                                <h3 class="font-bold text-lg leading-tight">Department Shirt (BSIT)</h3>
                                <p class="text-sm text-gray-500 mt-1">Size: Large, Color: Blue</p>
                            </div>
                            <p class="font-bold text-lg text-pamsucolo-primary">₱350.00</p>
                        </div>

                        <div class="flex justify-between items-center mt-3 sm:mt-6">
                            <div class="flex items-center border border-gray-300 rounded-md overflow-hidden" data-item-price="350">
                                <button type="button" class="qty-button" data-action="decrease" aria-label="Decrease quantity">
                                    <svg class="w-4 h-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12h14"/></svg>
                                </button>
                                <input type="number" value="2" min="1" class="w-12 h-8 text-center bg-white font-semibold focus:outline-none border-x border-gray-300" data-quantity-input>
                                <button type="button" class="qty-button" data-action="increase" aria-label="Increase quantity">
                                    <svg class="w-4 h-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12h14"/><path d="M12 5v14"/></svg>
                                </button>
                            </div>

                            <button class="text-red-600 hover:text-red-800 transition flex items-center text-sm font-medium">
                                <svg class="w-5 h-5 mr-1" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 6h18"/><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"/><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"/></svg>
                                Remove
                            </button>
                        </div>
                    </div>
                </div>

                <div class="bg-white p-4 sm:p-6 rounded-xl shadow-md border border-gray-100 flex space-x-4">
                    <div class="w-20 h-20 sm:w-28 sm:h-28 bg-gray-100 rounded-lg flex-shrink-0 flex items-center justify-center">
                        <svg class="w-10 h-10 text-gray-400" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="7" height="9" x="1" y="3" rx="1"/><rect width="7" height="9" x="16" y="3" rx="1"/><path d="M8 3v9"/><path d="M16 3v9"/><path d="M10 18h4"/><path d="M12 15v6"/></svg>
                    </div>
                    
                    <div class="flex-grow">
                        <div class="flex justify-between items-start">
                            <div>
                                <h3 class="font-bold text-lg leading-tight">PamSuCoLo Lanyard</h3>
                                <p class="text-sm text-gray-500 mt-1">Variant: Standard</p>
                            </div>
                            <p class="font-bold text-lg text-pamsucolo-primary">₱50.00</p>
                        </div>

                        <div class="flex justify-between items-center mt-3 sm:mt-6">
                            <div class="flex items-center border border-gray-300 rounded-md overflow-hidden" data-item-price="50">
                                <button type="button" class="qty-button" data-action="decrease" aria-label="Decrease quantity">
                                    <svg class="w-4 h-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12h14"/></svg>
                                </button>
                                <input type="number" value="2" min="1" class="w-12 h-8 text-center bg-white font-semibold focus:outline-none border-x border-gray-300" data-quantity-input>
                                <button type="button" class="qty-button" data-action="increase" aria-label="Increase quantity">
                                    <svg class="w-4 h-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12h14"/><path d="M12 5v14"/></svg>
                                </button>
                            </div>

                            <button class="text-red-600 hover:text-red-800 transition flex items-center text-sm font-medium">
                                <svg class="w-5 h-5 mr-1" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 6h18"/><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"/><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"/></svg>
                                Remove
                            </button>
                        </div>
                    </div>
                </div>

                <a href="shop.html" class="text-pamsucolo-primary font-semibold hover:text-pamsucolo-primary/80 transition flex items-center mt-6">
                    <svg class="w-5 h-5 mr-1" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M7 11L12 6L17 11"/><path d="M12 6V20"/></svg>
                    Continue Shopping
                </a>
            </div>

            <div class="lg:col-span-1 mt-8 lg:mt-0 space-y-8">
                
                <div class="bg-white p-6 rounded-xl shadow-xl">
                    <h3 class="text-xl font-bold mb-4 border-b pb-2">Order Summary</h3>
                    
                    <div class="space-y-3 text-sm">
                        <div class="flex justify-between">
                            <span>Subtotal (<span data-total-items>4</span> items)</span>
                            <span class="font-medium" data-subtotal>₱800.00</span>
                        </div>
                        <div class="flex justify-between">
                            <span>Shipping & Handling</span>
                            <span class="font-medium" data-shipping-fee>₱0.00</span>
                        </div>
                        
                        <div class="border-t pt-4 flex justify-between text-lg font-bold">
                            <span>Order Total</span>
                            <span class="text-pamsucolo-primary" data-grand-total>₱800.00</span>
                        </div>
                    </div>
                    
                    <p class="text-xs text-green-600 mt-2 flex items-center">
                        <svg class="w-4 h-4 mr-1" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><path d="m9 11 3 3L22 4"/></svg>
                        You qualify for FREE shipping!
                    </p>
                </div>

                <div class="bg-white p-6 rounded-xl shadow-xl">
                    <h3 class="text-xl font-bold mb-4 border-b pb-2">Checkout Info</h3>
                    <form class="space-y-4 text-sm">
                        <div class="space-y-1">
                            <label class="font-medium block text-gray-700">SID</label>
                            <input type="text" value="19288374643" readonly class="w-full p-2 border border-gray-300 rounded-md bg-gray-50 text-gray-600 focus:outline-none">
                        </div>
                        
                        <div class="space-y-1">
                            <label class="font-medium block text-gray-700">Full Name</label>
                            <input type="text" value="John Carpio Smith" readonly class="w-full p-2 border border-gray-300 rounded-md bg-gray-50 text-gray-600 focus:outline-none">
                        </div>

                        <div class="grid grid-cols-2 gap-3">
                            <div class="space-y-1">
                                <label class="font-medium block text-gray-700">Campus</label>
                                <input type="text" value="Sto. Tomas" readonly class="w-full p-2 border border-gray-300 rounded-md bg-gray-50 text-gray-600 focus:outline-none">
                            </div>
                            <div class="space-y-1">
                                <label class="font-medium block text-gray-700">Course</label>
                                <input type="text" value="BSIT" readonly class="w-full p-2 border border-gray-300 rounded-md bg-gray-50 text-gray-600 focus:outline-none">
                            </div>
                            <div class="space-y-1">
                                <label class="font-medium block text-gray-700">Year Level</label>
                                <input type="text" value="3rd" readonly class="w-full p-2 border border-gray-300 rounded-md bg-gray-50 text-gray-600 focus:outline-none">
                            </div>
                            <div class="space-y-1">
                                <label class="font-medium block text-gray-700">Section</label>
                                <input type="text" value="B" readonly class="w-full p-2 border border-gray-300 rounded-md bg-gray-50 text-gray-600 focus:outline-none">
                            </div>
                        </div>

                        <div class="space-y-2 pt-2">
                            <label class="font-bold block text-base text-gray-800 flex items-center">
                                <svg class="w-5 h-5 mr-2 text-pamsucolo-primary" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" x2="12" y1="15" y2="3"/></svg>
                                Select Payment Type
                            </label>
                            
                            <div class="flex space-x-4">
                                <label class="flex items-center p-3 border border-gray-300 rounded-lg w-1/2 cursor-pointer has-[:checked]:border-pamsucolo-primary has-[:checked]:bg-pamsucolo-primary/10 transition">
                                    <input type="radio" name="payment_type" value="cash" class="w-4 h-4 text-pamsucolo-primary focus:ring-pamsucolo-primary" checked>
                                    <span class="ml-2 font-medium">Cash</span>
                                </label>
                                <label class="flex items-center p-3 border border-gray-300 rounded-lg w-1/2 cursor-pointer has-[:checked]:border-pamsucolo-primary has-[:checked]:bg-pamsucolo-primary/10 transition">
                                    <input type="radio" name="payment_type" value="loan" class="w-4 h-4 text-pamsucolo-primary focus:ring-pamsucolo-primary">
                                    <span class="ml-2 font-medium">Loan (Requires Approval)</span>
                                </label>
                            </div>
                        </div>

                        <button type="submit" class="w-full p-3 bg-pamsucolo-primary text-white font-bold rounded-lg mt-6 shadow-md hover:bg-opacity-90 transition flex items-center justify-center" data-checkout-button>
                            <svg class="w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4H6z"/><path d="M3 6h18"/><path d="M16 10a4 4 0 0 1-8 0"/></svg>
                            Proceed to Checkout (<span data-total-checkout>₱800.00</span>)
                        </button>
                    </form>
                </div>
            </div>
            
        </div>
    </main>

    <footer class="bg-gray-900 text-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
            <div class="grid grid-cols-2 md:grid-cols-5 gap-8">
                
                <div class="col-span-2 md:col-span-1">
                    <img class="w-10 h-10" src="images/logo.png" alt="Pampanga State University Logo">
                    <h4 class="text-2xl font-bold text-pamsucolo-primary mb-3">PamSuCoLo</h4>
                    <p class="text-sm text-gray-400">Your dedicated on-campus E-commerce solution.</p>
                    <div class="flex space-x-3 mt-4">
                        <svg class="w-6 h-6 hover:text-pamsucolo-primary transition duration-300" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path d="M12 2C6.477 2 2 6.477 2 12c0 5.163 3.766 9.475 8.75 10.384V15.25H7.75V12.5H10.75V10.25c0-3.09 1.847-4.78 4.673-4.78 1.334 0 2.48.1 2.82.144V8.5h-1.637c-1.69 0-2.025.803-2.025 1.983V12.5h3.385l-.547 2.75H13.5V22.384C18.234 21.475 22 17.163 22 12c0-5.523-4.477-10-10-10z"></path></svg>
                        <svg class="w-6 h-6 hover:text-pamsucolo-primary transition duration-300" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path d="M22 5.862c-.77.34-1.6.57-2.46.68.88-.52 1.55-1.34 1.87-2.32-.82.48-1.73.83-2.69 1.02-.78-.83-1.89-1.35-3.13-1.35-2.35 0-4.26 1.91-4.26 4.26 0 .33.04.65.11.95C7.29 8.07 4.54 6.6 2.7 4.24c-.36.62-.57 1.34-.57 2.12 0 1.48.75 2.79 1.89 3.56-.7-.02-1.35-.21-1.92-.53v.05c0 2.06 1.46 3.77 3.39 4.16-.36.1-.73.15-1.12.15-.27 0-.54-.03-.79-.07.54 1.68 2.1 2.91 3.96 2.94-1.45 1.13-3.28 1.81-5.26 1.81-.34 0-.68-.02-1.02-.06C3.52 19.82 5.89 20 8.35 20c9.96 0 15.39-8.25 15.39-15.39 0-.23-.01-.46-.01-.69.81-.59 1.5-1.33 2.06-2.17z"></path></svg>
                    </div>
                </div>

                <div>
                    <h5 class="font-semibold text-white mb-3 uppercase text-sm">Shop</h5>
                    <ul class="space-y-2 text-sm text-gray-400">
                        <li><a href="#" class="hover:text-pamsucolo-primary transition">Lanyard</a></li>
                        <li><a href="#" class="hover:text-pamsucolo-primary transition">Department Shirt</a></li>
                        <li><a href="#" class="hover:text-pamsucolo-primary transition">Uniform</a></li>
                        <li><a href="#" class="hover:text-pamsucolo-primary transition">Accessories</a></li>
                    </ul>
                </div>
                
                <div>
                    <h5 class="font-semibold text-white mb-3 uppercase text-sm">Financial</h5>
                    <ul class="space-y-2 text-sm text-gray-400">
                        <li><a href="#" class="hover:text-pamsucolo-primary transition">Apply for Loan</a></li>
                        <li><a href="#" class="hover:text-pamsucolo-primary transition">Loan Calculator</a></li>
                        <li><a href="#" class="hover:text-pamsucolo-primary transition">Payment Options</a></li>
                    </ul>
                </div>
                
                <div>
                    <h5 class="font-semibold text-white mb-3 uppercase text-sm">About</h5>
                    <ul class="space-y-2 text-sm text-gray-400">
                        <li><a href="#" class="hover:text-pamsucolo-primary transition">About Us</a></li>
                        <li><a href="#" class="hover:text-pamsucolo-primary transition">Contact Us</a></li>
                        <li><a href="#" class="hover:text-pamsucolo-primary transition">Privacy Policy</a></li>
                    </ul>
                </div>
            </div>
            
            <div class="mt-8 pt-8 border-t border-gray-800 text-center">
                <p class="text-sm text-gray-500">&copy; 2025 PamSuCoLo. All rights reserved. Built for students.</p>
            </div>
        </div>
    </footer>
    
    <script>
        // --- Core Calculation Logic ---

        // Helper function to format currency
        function formatCurrency(amount) {
            return '₱' + amount.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g, ',');
        }

        function updateCartTotals() {
            let totalSubtotal = 0;
            let totalItems = 0;
            const shippingFee = 0; // Fixed at 0.00 for this example

            // 1. Calculate subtotal and total items
            document.querySelectorAll('.flex.items-center.rounded-md[data-item-price]').forEach(container => {
                const pricePerItem = parseFloat(container.getAttribute('data-item-price'));
                const quantityInput = container.querySelector('input[data-quantity-input]');
                const quantity = parseInt(quantityInput.value);

                totalSubtotal += pricePerItem * quantity;
                totalItems += quantity;
            });

            // 2. Calculate grand total
            const grandTotal = totalSubtotal + shippingFee;

            // 3. Update the DOM elements
            document.querySelector('[data-total-items]').textContent = totalItems;
            document.querySelector('[data-subtotal]').textContent = formatCurrency(totalSubtotal);
            document.querySelector('[data-shipping-fee]').textContent = formatCurrency(shippingFee);
            document.querySelector('[data-grand-total]').textContent = formatCurrency(grandTotal);
            document.querySelector('[data-total-checkout]').textContent = formatCurrency(grandTotal); // Update checkout button total
        }


        // --- Quantity Control Listener ---

        document.querySelectorAll('.qty-button').forEach(button => {
            button.addEventListener('click', () => {
                const container = button.closest('[data-item-price]');
                const input = container.querySelector('input[data-quantity-input]');
                let value = parseInt(input.value);
                const action = button.getAttribute('data-action');
                const min = parseInt(input.getAttribute('min')) || 1;

                if (action === 'increase') {
                    value++;
                } else if (action === 'decrease') {
                    if (value > min) {
                        value--;
                    }
                }
                
                input.value = value;
                updateCartTotals();
            });
        });
        
        // Run once on load to ensure initial totals are correct
        updateCartTotals();

    </script>

</body>
</html>

